{"ast":null,"code":"const utils = require('./utils');\nconst scopedModuleRegex = new RegExp('@[a-zA-Z0-9][\\\\w-.]+/[a-zA-Z0-9][\\\\w-.]+([a-zA-Z0-9./]+)?', 'g');\nfunction getModuleName(request, includeAbsolutePaths) {\n  let req = request;\n  const delimiter = '/';\n  if (includeAbsolutePaths) {\n    req = req.replace(/^.*?\\/node_modules\\//, '');\n  }\n  // check if scoped module\n  if (scopedModuleRegex.test(req)) {\n    // reset regexp\n    scopedModuleRegex.lastIndex = 0;\n    return req.split(delimiter, 2).join(delimiter);\n  }\n  return req.split(delimiter)[0];\n}\nmodule.exports = function nodeExternals(options) {\n  options = options || {};\n  const mistakes = utils.validateOptions(options) || [];\n  if (mistakes.length) {\n    mistakes.forEach(mistake => {\n      utils.error(mistakes.map(mistake => mistake.message));\n      utils.log(mistake.message);\n    });\n  }\n  const webpackInternalAllowlist = [/^webpack\\/container\\/reference\\//];\n  const allowlist = [].concat(webpackInternalAllowlist).concat(options.allowlist || []);\n  const binaryDirs = [].concat(options.binaryDirs || ['.bin']);\n  const importType = options.importType || 'commonjs';\n  const modulesDir = options.modulesDir || 'node_modules';\n  const modulesFromFile = !!options.modulesFromFile;\n  const includeAbsolutePaths = !!options.includeAbsolutePaths;\n  const additionalModuleDirs = options.additionalModuleDirs || [];\n\n  // helper function\n  function isNotBinary(x) {\n    return !utils.contains(binaryDirs, x);\n  }\n\n  // create the node modules list\n  let nodeModules = modulesFromFile ? utils.readFromPackageJson(options.modulesFromFile) : utils.readDir(modulesDir).filter(isNotBinary);\n  additionalModuleDirs.forEach(function (additionalDirectory) {\n    nodeModules = nodeModules.concat(utils.readDir(additionalDirectory).filter(isNotBinary));\n  });\n\n  // return an externals function\n  return function (...args) {\n    const [arg1, arg2, arg3] = args;\n    // let context = arg1;\n    let request = arg2;\n    let callback = arg3;\n    // in case of webpack 5\n    if (arg1 && arg1.context && arg1.request) {\n      // context = arg1.context;\n      request = arg1.request;\n      callback = arg2;\n    }\n    const moduleName = getModuleName(request, includeAbsolutePaths);\n    if (utils.contains(nodeModules, moduleName) && !utils.containsPattern(allowlist, request)) {\n      if (typeof importType === 'function') {\n        return callback(null, importType(request));\n      }\n      // mark this module as external\n      // https://webpack.js.org/configuration/externals/\n      return callback(null, importType + ' ' + request);\n    }\n    callback();\n  };\n};","map":{"version":3,"names":["utils","require","scopedModuleRegex","RegExp","getModuleName","request","includeAbsolutePaths","req","delimiter","replace","test","lastIndex","split","join","module","exports","nodeExternals","options","mistakes","validateOptions","length","forEach","mistake","error","map","message","log","webpackInternalAllowlist","allowlist","concat","binaryDirs","importType","modulesDir","modulesFromFile","additionalModuleDirs","isNotBinary","x","contains","nodeModules","readFromPackageJson","readDir","filter","additionalDirectory","args","arg1","arg2","arg3","callback","context","moduleName","containsPattern"],"sources":["C:/Users/szymo/OneDrive/Desktop/Coding/AI_Image_Generator/recipe_generator/node_modules/webpack-node-externals/index.js"],"sourcesContent":["const utils = require('./utils');\r\n\r\nconst scopedModuleRegex = new RegExp(\r\n    '@[a-zA-Z0-9][\\\\w-.]+/[a-zA-Z0-9][\\\\w-.]+([a-zA-Z0-9./]+)?',\r\n    'g'\r\n);\r\n\r\nfunction getModuleName(request, includeAbsolutePaths) {\r\n    let req = request;\r\n    const delimiter = '/';\r\n\r\n    if (includeAbsolutePaths) {\r\n        req = req.replace(/^.*?\\/node_modules\\//, '');\r\n    }\r\n    // check if scoped module\r\n    if (scopedModuleRegex.test(req)) {\r\n        // reset regexp\r\n        scopedModuleRegex.lastIndex = 0;\r\n        return req.split(delimiter, 2).join(delimiter);\r\n    }\r\n    return req.split(delimiter)[0];\r\n}\r\n\r\nmodule.exports = function nodeExternals(options) {\r\n    options = options || {};\r\n    const mistakes = utils.validateOptions(options) || [];\r\n    if (mistakes.length) {\r\n        mistakes.forEach((mistake) => {\r\n            utils.error(mistakes.map((mistake) => mistake.message));\r\n            utils.log(mistake.message);\r\n        });\r\n    }\r\n    const webpackInternalAllowlist = [/^webpack\\/container\\/reference\\//];\r\n    const allowlist = []\r\n        .concat(webpackInternalAllowlist)\r\n        .concat(options.allowlist || []);\r\n    const binaryDirs = [].concat(options.binaryDirs || ['.bin']);\r\n    const importType = options.importType || 'commonjs';\r\n    const modulesDir = options.modulesDir || 'node_modules';\r\n    const modulesFromFile = !!options.modulesFromFile;\r\n    const includeAbsolutePaths = !!options.includeAbsolutePaths;\r\n    const additionalModuleDirs = options.additionalModuleDirs || [];\r\n\r\n    // helper function\r\n    function isNotBinary(x) {\r\n        return !utils.contains(binaryDirs, x);\r\n    }\r\n\r\n    // create the node modules list\r\n    let nodeModules = modulesFromFile\r\n        ? utils.readFromPackageJson(options.modulesFromFile)\r\n        : utils.readDir(modulesDir).filter(isNotBinary);\r\n    additionalModuleDirs.forEach(function (additionalDirectory) {\r\n        nodeModules = nodeModules.concat(\r\n            utils.readDir(additionalDirectory).filter(isNotBinary)\r\n        );\r\n    });\r\n\r\n    // return an externals function\r\n    return function (...args) {\r\n        const [arg1, arg2, arg3] = args;\r\n        // let context = arg1;\r\n        let request = arg2;\r\n        let callback = arg3;\r\n        // in case of webpack 5\r\n        if (arg1 && arg1.context && arg1.request) {\r\n            // context = arg1.context;\r\n            request = arg1.request;\r\n            callback = arg2;\r\n        }\r\n        const moduleName = getModuleName(request, includeAbsolutePaths);\r\n        if (\r\n            utils.contains(nodeModules, moduleName) &&\r\n            !utils.containsPattern(allowlist, request)\r\n        ) {\r\n            if (typeof importType === 'function') {\r\n                return callback(null, importType(request));\r\n            }\r\n            // mark this module as external\r\n            // https://webpack.js.org/configuration/externals/\r\n            return callback(null, importType + ' ' + request);\r\n        }\r\n        callback();\r\n    };\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}